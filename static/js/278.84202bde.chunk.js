"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[278],{18:function(t,r,e){e.d(r,{TP:function(){return f},Tg:function(){return o},qF:function(){return s},tx:function(){return v},zv:function(){return p}});var n=e(861),u=e(757),a=e.n(u),c=e(388);c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var i=new URLSearchParams({api_key:"90a449e7773f96eeaad80a5e660b8095"}),o=function(){var t=(0,n.Z)(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/trending/movie/day?".concat(i));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=(0,n.Z)(a().mark((function t(r){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/search/movie?".concat(i,"&query=").concat(r));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(a().mark((function t(r){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/movie/".concat(r,"?").concat(i));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(a().mark((function t(r){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/movie/".concat(r,"/credits?").concat(i));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),v=function(){var t=(0,n.Z)(a().mark((function t(r){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/movie/".concat(r,"/reviews?").concat(i));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()},278:function(t,r,e){e.r(r);var n=e(439),u=e(791),a=e(87),c=e(689),i=e(14),o=e(18),s=e(483),f=e(184);r.default=function(){var t,r=(0,u.useState)([]),e=(0,n.Z)(r,2),p=e[0],v=e[1],h=(0,u.useState)(!1),l=(0,n.Z)(h,2),d=l[0],m=l[1],x=(0,a.lr)(),w=(0,n.Z)(x,2),g=w[0],y=w[1],Z=(0,c.TH)(),b=null!==(t=g.get("query"))&&void 0!==t?t:"";(0,u.useEffect)((function(){if(""===b)return v([]);m(!0),(0,o.qF)(b).then((function(t){v(t.results),m(!1)})).catch(console.log)}),[b]);return(0,f.jsxs)("main",{children:[(0,f.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r=t.currentTarget.elements.input.value;""===r.trim()&&i.ZP.error("Enter your query!"),y(""!==r.trim()?{query:r}:{}),t.currentTarget.reset()},children:[(0,f.jsx)("input",{type:"text",name:"input"}),(0,f.jsx)("button",{type:"submit",children:"Search"})]}),d&&(0,f.jsx)(s.a,{}),p.length>0&&(0,f.jsx)("ul",{children:p.map((function(t){var r=t.id,e=t.title;return(0,f.jsx)("li",{children:(0,f.jsx)(a.rU,{to:"".concat(r),state:{from:Z},children:e})},r)}))}),0===p.length&&""!==b&&(0,f.jsxs)("p",{children:['No movie was found for your query "',(0,f.jsx)("span",{children:b}),'".']})]})}}}]);
//# sourceMappingURL=278.84202bde.chunk.js.map